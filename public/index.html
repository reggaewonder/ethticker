<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>EthTicker – Live ETH/USD Price</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="Live Ethereum (ETH) price ticker with a real-time chart and curated Ethereum news links." />
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>Ξ</text></svg>">
  <link href="https://fonts.googleapis.com/css2?family=Space+Mono:wght@400;700&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
  <style>
    *{margin:0;padding:0;box-sizing:border-box}
    :root{
      --bg-primary:#050509;
      --bg-secondary:#0c0c10;
      --bg-tertiary:#12121a;
      --border:#27272f;
      --text-primary:#e4e4f0;
      --text-secondary:#a1a1b5;
      --text-muted:#6b6b7d;
      --green:#22c55e;
      --red:#ef4444;
      --purple:#627eea;
      --accent:#38bdf8;
    }
    body{
      font-family:'Inter',sans-serif;
      background:radial-gradient(circle at top,var(--bg-tertiary) 0,var(--bg-primary) 55%,#020208 100%);
      color:var(--text-primary);
      min-height:100vh;
    }
    .shell{
      max-width:1200px;
      margin:0 auto;
      padding:24px 20px 40px;
    }
    header{
      display:flex;
      justify-content:space-between;
      align-items:center;
      margin-bottom:24px;
      gap:16px;
    }
    .logo{
      display:flex;
      align-items:center;
      gap:12px;
    }
    .logo-icon{
      width:44px;height:44px;
      border-radius:14px;
      background:conic-gradient(from 180deg at 50% 50%,rgba(98,126,234,.4),rgba(56,189,248,.4),rgba(148,163,184,.1));
      display:flex;align-items:center;justify-content:center;
      font-size:24px;font-weight:700;
    }
    .logo-text{
      font-family:'Space Mono',monospace;
      font-size:1.4rem;
      font-weight:700;
    }
    .logo-text span{color:var(--purple)}
    .status{
      display:flex;
      align-items:center;
      gap:8px;
      font-size:.8rem;
      color:var(--text-muted);
    }
    .status-dot{
      width:9px;height:9px;border-radius:50%;
      background:#f97316;
      box-shadow:0 0 0 0 rgba(56,189,248,0.0);
      transition:background .15s,box-shadow .3s;
    }
    .status-dot.live{
      background:#22c55e;
      box-shadow:0 0 12px 1px rgba(34,197,94,.5);
    }

    .layout{
      display:grid;
      grid-template-columns:2.2fr 1fr;
      gap:20px;
    }
    @media(max-width:900px){
      .layout{grid-template-columns:1fr}
    }

    .panel{
      background:linear-gradient(145deg,rgba(12,12,16,.98),rgba(5,5,11,.98));
      border-radius:18px;
      border:1px solid rgba(148,163,184,.12);
      box-shadow:0 18px 60px rgba(15,23,42,.6);
      padding:20px 20px 18px;
    }
    .panel-header{
      display:flex;
      justify-content:space-between;
      align-items:center;
      margin-bottom:12px;
    }
    .panel-title{
      font-size:.85rem;
      text-transform:uppercase;
      letter-spacing:.14em;
      color:var(--text-muted);
    }
    .badge{
      font-size:.7rem;
      padding:3px 8px;
      border-radius:999px;
      border:1px solid rgba(148,163,184,.3);
      color:var(--text-secondary);
    }

    .price-block{
      text-align:center;
      margin-top:4px;
      margin-bottom:18px;
    }
    .pair-label{
      font-size:.75rem;
      letter-spacing:.16em;
      text-transform:uppercase;
      color:var(--text-muted);
      margin-bottom:6px;
    }
    .price-main{
      font-family:'Space Mono',monospace;
      font-size:3.4rem;
      font-weight:700;
      line-height:1.1;
      transition:color .12s;
    }
    .price-main.up{color:var(--green)}
    .price-main.down{color:var(--red)}
    .price-change{
      display:inline-flex;
      align-items:center;
      gap:8px;
      margin-top:10px;
      padding:6px 12px;
      border-radius:999px;
      font-family:'Space Mono',monospace;
      font-size:.9rem;
      background:rgba(148,163,184,.1);
      color:var(--text-secondary);
    }
    .price-change.positive{
      background:rgba(34,197,94,.12);
      color:var(--green);
    }
    .price-change.negative{
      background:rgba(239,68,68,.12);
      color:var(--red);
    }

    .stats-row{
      display:grid;
      grid-template-columns:repeat(3,1fr);
      gap:10px;
      margin-bottom:10px;
    }
    @media(max-width:600px){
      .stats-row{grid-template-columns:repeat(2,1fr)}
    }
    .stat{
      padding:10px 10px 8px;
      border-radius:12px;
      background:radial-gradient(circle at top left,rgba(99,102,241,.16) 0,rgba(15,23,42,.9) 55%,rgba(15,23,42,.98) 100%);
      border:1px solid rgba(51,65,85,.8);
    }
    .stat-label{
      font-size:.68rem;
      text-transform:uppercase;
      letter-spacing:.12em;
      color:var(--text-muted);
      margin-bottom:4px;
    }
    .stat-value{
      font-family:'Space Mono',monospace;
      font-size:.9rem;
    }

    .chart-shell{
      margin-top:8px;
      padding-top:10px;
      border-top:1px dashed rgba(148,163,184,.26);
    }
    .chart-header{
      display:flex;
      justify-content:space-between;
      align-items:center;
      margin-bottom:6px;
    }
    .chart-label{
      font-size:.8rem;
      color:var(--text-secondary);
    }
    .chart-sub{
      font-size:.7rem;
      color:var(--text-muted);
    }
    canvas{
      width:100%;
      height:180px;
      display:block;
      border-radius:10px;
      background:radial-gradient(circle at top,rgba(15,23,42,.9),rgba(15,23,42,1));
    }

    .news-panel .panel-title{
      letter-spacing:.12em;
    }
    .news-list{
      list-style:none;
      margin-top:4px;
    }
    .news-item{
      padding:10px 0;
      border-bottom:1px solid rgba(31,41,55,.9);
    }
    .news-item:last-child{border-bottom:none}
    .news-link{
      display:block;
      font-size:.86rem;
      color:var(--text-primary);
      text-decoration:none;
    }
    .news-link:hover{
      color:var(--accent);
    }
    .news-meta{
      margin-top:4px;
      font-size:.72rem;
      color:var(--text-muted);
      display:flex;
      justify-content:space-between;
      gap:6px;
      flex-wrap:wrap;
    }

    footer{
      margin-top:28px;
      text-align:center;
      font-size:.75rem;
      color:var(--text-muted);
    }
    footer a{
      color:var(--accent);
      text-decoration:none;
    }
  </style>
</head>
<body>
  <div class="shell">
    <header>
      <div class="logo">
        <div class="logo-icon">Ξ</div>
        <div class="logo-text"><span>Eth</span>Ticker</div>
      </div>
      <div class="status">
        <div id="statusDot" class="status-dot"></div>
        <span id="statusText">Connecting to live feed…</span>
      </div>
    </header>

    <main class="layout">
      <!-- Left: Price + chart -->
      <section class="panel">
        <div class="panel-header">
          <div>
            <div class="panel-title">Ethereum spot</div>
          </div>
          <div class="badge">Binance ETH/USDT</div>
        </div>

        <div class="price-block">
          <div class="pair-label">ETH / USD</div>
          <div id="price" class="price-main">$---</div>
          <div id="priceChange" class="price-change">
            <span id="changeArrow">–</span>
            <span id="changePercent">0.00%</span>
            <span id="changeValue">(+0.00)</span>
          </div>
        </div>

        <div class="stats-row">
          <div class="stat">
            <div class="stat-label">24h High</div>
            <div id="high" class="stat-value">$---</div>
          </div>
          <div class="stat">
            <div class="stat-label">24h Low</div>
            <div id="low" class="stat-value">$---</div>
          </div>
          <div class="stat">
            <div class="stat-label">24h Volume</div>
            <div id="volume" class="stat-value">---</div>
          </div>
        </div>

        <div class="chart-shell">
          <div class="chart-header">
            <div class="chart-label">Session ticks</div>
            <div class="chart-sub">Live last‑trade line</div>
          </div>
          <canvas id="priceChart"></canvas>
        </div>
      </section>

      <!-- Right: Curated ETH news -->
      <aside class="panel news-panel">
        <div class="panel-header">
          <div class="panel-title">Ethereum news</div>
          <div class="badge">Curated links</div>
        </div>
        <ul class="news-list">
          <li class="news-item">
            <a class="news-link" href="https://www.coindesk.com" target="_blank" rel="noopener">
              CoinDesk – Ethereum coverage
            </a>
            <div class="news-meta">
              <span>Long‑form reporting, protocol and market news.</span>
              <span>coindesk.com</span>
            </div>
          </li>
          <li class="news-item">
            <a class="news-link" href="https://www.cointelegraph.com/tags/ethereum" target="_blank" rel="noopener">
              CoinTelegraph – Ethereum tag
            </a>
            <div class="news-meta">
              <span>Regular ETH ecosystem headlines and analysis.</span>
              <span>cointelegraph.com</span>
            </div>
          </li>
          <li class="news-item">
            <a class="news-link" href="https://u.today/ethereum" target="_blank" rel="noopener">
              U.Today – Ethereum section
            </a>
            <div class="news-meta">
              <span>Short, timely Ethereum price and dev updates.</span>
              <span>u.today</span>
            </div>
          </li>
          <li class="news-item">
            <a class="news-link" href="https://decrypt.co" target="_blank" rel="noopener">
              Decrypt – DeFi & Ethereum
            </a>
            <div class="news-meta">
              <span>Beginner‑friendly explainers plus ETH news.</span>
              <span>decrypt.co</span>
            </div>
          </li>
          <li class="news-item">
            <a class="news-link" href="https://bankless.com" target="_blank" rel="noopener">
              Bankless – Ethereum & DeFi essays
            </a>
            <div class="news-meta">
              <span>Deep dives into Ethereum, L2s, and on‑chain finance.</span>
              <span>bankless.com</span>
            </div>
          </li>
          <li class="news-item">
            <a class="news-link" href="https://www.reddit.com/r/ethereum" target="_blank" rel="noopener">
              r/ethereum – community hub
            </a>
            <div class="news-meta">
              <span>Protocol discussions, EIPs, and ecosystem chatter.</span>
              <span>reddit.com/r/ethereum</span>
            </div>
          </li>
        </ul>
      </aside>
    </main>

    <footer>
      Live ETH/USDT via Binance WebSocket • Built for ethticker.co • News links are informational only.[web:28][web:139][web:140][web:146]
    </footer>
  </div>

  <script>
    const statusDot = document.getElementById('statusDot');
    const statusText = document.getElementById('statusText');
    const priceEl = document.getElementById('price');
    const priceChangeEl = document.getElementById('priceChange');
    const changeArrowEl = document.getElementById('changeArrow');
    const changePercentEl = document.getElementById('changePercent');
    const changeValueEl = document.getElementById('changeValue');
    const highEl = document.getElementById('high');
    const lowEl = document.getElementById('low');
    const volumeEl = document.getElementById('volume');
    const chartCanvas = document.getElementById('priceChart');

    let lastPrice = null;
    let priceHistory = [];

    function formatPrice(p) {
      const n = parseFloat(p);
      if (Number.isNaN(n)) return '$---';
      return '$' + n.toLocaleString(undefined,{
        minimumFractionDigits:2,
        maximumFractionDigits:2
      });
    }

    function formatVolume(v) {
      const n = parseFloat(v);
      if (Number.isNaN(n)) return '---';
      if (n >= 1e9) return (n/1e9).toFixed(2)+'B';
      if (n >= 1e6) return (n/1e6).toFixed(2)+'M';
      if (n >= 1e3) return (n/1e3).toFixed(1)+'K';
      return n.toFixed(2);
    }

    function connect() {
      const proto = window.location.protocol === 'https:' ? 'wss:' : 'ws:';
      const ws = new WebSocket(proto + '//' + window.location.host);

      ws.onopen = () => {
        statusDot.classList.add('live');
        statusText.textContent = 'Live tick by tick';
      };

      ws.onmessage = (event) => {
        const msg = JSON.parse(event.data);
        if (msg.type === 'ticker') {
          handleTicker(msg.data);
        }
      };

      ws.onclose = () => {
        statusDot.classList.remove('live');
        statusText.textContent = 'Reconnecting…';
        setTimeout(connect, 3000);
      };

      ws.onerror = () => {
        ws.close();
      };
    }

    function handleTicker(data) {
      // Binance fields: c = last price, P = % change, p = absolute change, h = high, l = low, v = volume.[web:28]
      const prev = lastPrice;
      const current = parseFloat(data.c);
      lastPrice = current;

      document.title = formatPrice(current) + ' ETH/USD – EthTicker';

      priceEl.textContent = formatPrice(current);
      priceEl.classList.remove('up','down');
      if (prev !== null) {
        if (current > prev) priceEl.classList.add('up');
        else if (current < prev) priceEl.classList.add('down');
      }

      const changePct = parseFloat(data.P);
      const changeAbs = parseFloat(data.p);
      priceChangeEl.classList.remove('positive','negative');
      if (!Number.isNaN(changePct)) {
        priceChangeEl.classList.add(changePct >= 0 ? 'positive' : 'negative');
        changeArrowEl.textContent = changePct >= 0 ? '▲' : '▼';
        changePercentEl.textContent =
          (changePct >= 0 ? '+' : '') + changePct.toFixed(2) + '%';
      } else {
        changeArrowEl.textContent = '–';
        changePercentEl.textContent = '0.00%';
      }

      if (!Number.isNaN(changeAbs)) {
        const prefix = changeAbs >= 0 ? '+' : '';
        changeValueEl.textContent = '(' + prefix + formatPrice(changeAbs) + ')';
      } else {
        changeValueEl.textContent = '(+0.00)';
      }

      highEl.textContent = formatPrice(data.h);
      lowEl.textContent = formatPrice(data.l);
      volumeEl.textContent = formatVolume(data.v) + ' ETH';

      priceHistory.push({ t: Date.now(), p: current });
      if (priceHistory.length > 200) priceHistory.shift();
      drawChart();
    }

    function drawChart() {
      const ctx = chartCanvas.getContext('2d');
      const rect = chartCanvas.getBoundingClientRect();
      chartCanvas.width = rect.width * window.devicePixelRatio;
      chartCanvas.height = 180 * window.devicePixelRatio;

      const w = chartCanvas.width;
      const h = chartCanvas.height;

      ctx.scale(window.devicePixelRatio, window.devicePixelRatio);

      ctx.fillStyle = '#020617';
      ctx.fillRect(0,0,w,h);

      // Subtle grid
      ctx.strokeStyle = 'rgba(148,163,184,0.11)';
      ctx.lineWidth = 1;
      for (let i = 1; i <= 3; i++) {
        const y = (h/window.devicePixelRatio) * (i/4);
        ctx.beginPath();
        ctx.moveTo(0,y);
        ctx.lineTo(w/window.devicePixelRatio,y);
        ctx.stroke();
      }

      if (priceHistory.length < 2) return;

      const prices = priceHistory.map(p => p.p);
      const minP = Math.min(...prices) * 0.999;
      const maxP = Math.max(...prices) * 1.001;
      const range = (maxP - minP) || 1;

      const lineW = w/window.devicePixelRatio;
      const lineH = h/window.devicePixelRatio;

      const gradient = ctx.createLinearGradient(0,0,0,lineH);
      gradient.addColorStop(0,'rgba(56,189,248,0.25)');
      gradient.addColorStop(1,'rgba(15,23,42,0)');

      // Area
      ctx.beginPath();
      priceHistory.forEach((pt, i) => {
        const x = (i/(priceHistory.length-1)) * lineW;
        const y = lineH - ((pt.p - minP)/range) * lineH;
        if (i === 0) ctx.moveTo(x,y);
        else ctx.lineTo(x,y);
      });
      ctx.lineTo(lineW,lineH);
      ctx.lineTo(0,lineH);
      ctx.closePath();
      ctx.fillStyle = gradient;
      ctx.fill();

      // Line
      ctx.beginPath();
      priceHistory.forEach((pt, i) => {
        const x = (i/(priceHistory.length-1)) * lineW;
        const y = lineH - ((pt.p - minP)/range) * lineH;
        if (i === 0) ctx.moveTo(x,y);
        else ctx.lineTo(x,y);
      });
      ctx.strokeStyle = '#38bdf8';
      ctx.lineWidth = 2;
      ctx.stroke();
    }

    window.addEventListener('resize', drawChart);
    connect();
  </script>
</body>
</html>
